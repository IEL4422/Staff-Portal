/* Additional App styles */
.sidebar-link {
    @apply flex items-center gap-3 px-4 py-2.5 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition-all duration-200;
}

.sidebar-link.active {
    @apply bg-slate-800 text-white;
}

.status-badge {
    @apply rounded-full px-2.5 py-0.5 text-xs font-medium;
}

.status-badge.success {
    @apply bg-emerald-100 text-emerald-700;
}

.status-badge.warning {
    @apply bg-amber-100 text-amber-700;
}

.status-badge.error {
    @apply bg-red-100 text-red-700;
}

.status-badge.info {
    @apply bg-blue-100 text-blue-700;
}

.status-badge.default {
    @apply bg-slate-100 text-slate-700;
}

/* Case type badges */
.case-type-badge {
    @apply rounded-full px-3 py-1 text-xs font-medium;
}

.case-type-badge.probate {
    @apply bg-purple-100 text-purple-700;
}

.case-type-badge.estate-planning {
    @apply bg-blue-100 text-blue-700;
}

.case-type-badge.deeds {
    @apply bg-green-100 text-green-700;
}

.case-type-badge.lead {
    @apply bg-amber-100 text-amber-700;
}

/* Table styles */
.data-table th {
    @apply bg-slate-50 text-slate-600 font-medium text-sm py-3 px-4 text-left;
}

.data-table td {
    @apply py-3 px-4 text-sm border-b border-slate-100;
}

.data-table tr:hover td {
    @apply bg-slate-50/50;
}

/* Modal overlay */
.modal-overlay {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-50;
}

/* Tally embed container */
.tally-container {
    @apply w-full h-full min-h-[600px];
}

.tally-container iframe {
    @apply w-full h-full border-0;
}

/* ==================== MOBILE RESPONSIVE STYLES ==================== */

/* Mobile-first responsive utilities */
@media (max-width: 1023px) {
  /* Add padding to account for mobile menu button */
  .mobile-header-offset {
    padding-left: 4rem;
  }

  /* Stack form fields on mobile */
  .form-grid-responsive {
    @apply grid-cols-1 !important;
  }

  /* Full-width cards on mobile */
  .card-responsive {
    @apply w-full;
  }

  /* Horizontal scroll for tables on mobile */
  .table-responsive {
    @apply overflow-x-auto -mx-4 px-4;
  }

  .table-responsive table {
    @apply min-w-[600px];
  }

  /* Stack action buttons vertically on mobile */
  .action-buttons-responsive {
    @apply flex-col w-full;
  }

  .action-buttons-responsive > * {
    @apply w-full;
  }
}

/* Tablet adjustments */
@media (min-width: 640px) and (max-width: 1023px) {
  .form-grid-responsive {
    @apply grid-cols-2 !important;
  }
}

/* Mobile modal adjustments */
@media (max-width: 639px) {
  /* Full-width modals on mobile */
  [role="dialog"] {
    @apply max-w-[95vw] mx-auto;
  }

  /* Reduce modal padding on mobile */
  [role="dialog"] > div {
    @apply p-4;
  }

  /* Stack dialog footer buttons on mobile */
  [role="dialog"] footer {
    @apply flex-col gap-2;
  }

  [role="dialog"] footer > * {
    @apply w-full;
  }
}

/* Hide elements on mobile */
.hide-mobile {
  @apply hidden lg:block;
}

/* Show elements only on mobile */
.show-mobile {
  @apply block lg:hidden;
}

/* Responsive text sizes */
.text-responsive-heading {
  @apply text-xl sm:text-2xl lg:text-3xl;
}

.text-responsive-subheading {
  @apply text-base sm:text-lg lg:text-xl;
}

/* Mobile-friendly touch targets */
@media (max-width: 1023px) {
  button, 
  a, 
  [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Ensure input fields are large enough for touch */
  input, 
  select, 
  textarea {
    @apply text-base; /* Prevents iOS zoom on focus */
  }
}

/* Responsive spacing utilities */
.spacing-responsive {
  @apply p-4 sm:p-6 lg:p-8;
}

.gap-responsive {
  @apply gap-3 sm:gap-4 lg:gap-6;
}

/* ==================== ENHANCED MOBILE STYLES (375px standard) ==================== */

/* Mobile Header - Simplified Navigation */
@media (max-width: 767px) {
  /* Header adjustments */
  .mobile-header {
    @apply px-3 py-2;
  }

  /* Mobile search bar - full width */
  .mobile-search-container {
    @apply fixed top-0 left-0 right-0 z-50 bg-white p-3 shadow-lg;
  }

  .mobile-search-input {
    @apply w-full h-12 text-base rounded-xl;
  }

  /* Mobile navigation icons only */
  .mobile-nav-icon-only .nav-label {
    @apply hidden;
  }

  /* Mobile cards - full bleed */
  .mobile-card-full {
    @apply rounded-none -mx-4 border-x-0;
  }

  /* Mobile stat cards - horizontal scroll */
  .mobile-stats-scroll {
    @apply flex overflow-x-auto gap-3 pb-2 -mx-4 px-4 snap-x snap-mandatory;
  }

  .mobile-stats-scroll > * {
    @apply flex-shrink-0 w-[160px] snap-start;
  }

  /* Mobile task list - card style */
  .mobile-task-card {
    @apply p-4 bg-white rounded-xl border shadow-sm mb-3;
  }

  /* Mobile table to cards conversion */
  .mobile-table-as-cards thead {
    @apply hidden;
  }

  .mobile-table-as-cards tbody tr {
    @apply block mb-3 p-4 bg-white rounded-xl border shadow-sm;
  }

  .mobile-table-as-cards tbody td {
    @apply block py-1 px-0 border-0 text-left;
  }

  .mobile-table-as-cards tbody td::before {
    content: attr(data-label);
    @apply font-medium text-slate-500 text-xs uppercase block mb-0.5;
  }

  /* Mobile bottom safe area */
  .mobile-bottom-safe {
    padding-bottom: env(safe-area-inset-bottom, 20px);
  }

  /* Mobile friendly buttons */
  .mobile-btn-full {
    @apply w-full py-3 text-base font-medium rounded-xl;
  }

  /* Mobile consultation cards */
  .mobile-consult-card {
    @apply p-4 rounded-xl;
  }

  /* Hide desktop-only elements on mobile */
  .desktop-only {
    @apply hidden !important;
  }
}

/* Mobile form improvements */
@media (max-width: 767px) {
  /* Larger touch targets for form elements */
  .mobile-form input,
  .mobile-form select,
  .mobile-form textarea {
    @apply h-12 text-base px-4 rounded-xl;
  }

  .mobile-form label {
    @apply text-sm font-medium mb-2 block;
  }

  .mobile-form .form-group {
    @apply mb-4;
  }

  /* Stack form grids on mobile */
  .mobile-form .grid-cols-2,
  .mobile-form .grid-cols-3 {
    @apply grid-cols-1;
  }

  /* Full width buttons in forms */
  .mobile-form button[type="submit"],
  .mobile-form .btn-primary {
    @apply w-full py-3 text-base rounded-xl mt-4;
  }
}

/* Mobile modal full-screen style */
@media (max-width: 767px) {
  /* Full screen modal on mobile */
  [data-mobile-fullscreen="true"][role="dialog"] {
    @apply fixed inset-0 m-0 rounded-none max-w-none h-full max-h-full;
  }

  [data-mobile-fullscreen="true"][role="dialog"] > div {
    @apply h-full rounded-none flex flex-col;
  }

  /* Modal content scrollable */
  .mobile-modal-content {
    @apply flex-1 overflow-y-auto pb-safe;
  }

  /* Sticky modal header */
  .mobile-modal-header {
    @apply sticky top-0 bg-white z-10 border-b px-4 py-3;
  }

  /* Sticky modal footer */
  .mobile-modal-footer {
    @apply sticky bottom-0 bg-white border-t p-4 mt-auto;
    padding-bottom: calc(env(safe-area-inset-bottom, 16px) + 16px);
  }
}

/* Mobile search results */
@media (max-width: 767px) {
  .mobile-search-results {
    @apply fixed inset-x-0 top-[60px] bottom-0 bg-white overflow-y-auto z-40;
  }

  .mobile-search-result-item {
    @apply p-4 border-b active:bg-slate-100;
  }

  /* Mobile quick filters - horizontal scroll */
  .mobile-filters-scroll {
    @apply flex overflow-x-auto gap-2 pb-2 -mx-4 px-4;
  }

  .mobile-filters-scroll > button {
    @apply flex-shrink-0 whitespace-nowrap;
  }
}

/* Mobile dashboard specific */
@media (max-width: 767px) {
  .mobile-dashboard-header {
    @apply pt-16; /* Account for mobile menu button */
  }

  .mobile-section-title {
    @apply text-lg font-semibold mb-3;
  }

  /* Compact deadline cards on mobile */
  .mobile-deadline-card {
    @apply p-3 rounded-lg border mb-2;
  }

  /* Swipeable task items */
  .mobile-task-item {
    @apply flex items-center gap-3 p-4 bg-white rounded-xl border mb-2 active:bg-slate-50;
  }
}

/* Mobile sidebar enhancements */
@media (max-width: 1023px) {
  /* Full height sidebar with safe areas */
  .mobile-sidebar {
    padding-top: env(safe-area-inset-top, 0);
    padding-bottom: env(safe-area-inset-bottom, 0);
  }

  /* Larger touch targets for sidebar items */
  .mobile-sidebar .sidebar-link {
    @apply py-3.5 px-4;
  }

  /* Sidebar action section */
  .mobile-sidebar-actions {
    @apply border-t border-slate-700/50 pt-4 mt-4;
  }
}

/* Mobile typography adjustments */
@media (max-width: 767px) {
  .mobile-text-sm {
    @apply text-sm;
  }

  .mobile-text-base {
    @apply text-base;
  }

  .mobile-heading {
    @apply text-xl font-bold;
  }

  .mobile-subheading {
    @apply text-base text-slate-500;
  }
}

/* Safe area insets for notched devices */
@supports (padding: env(safe-area-inset-bottom)) {
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }

  .px-safe {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* Prevent text selection on interactive elements (mobile) */
@media (max-width: 1023px) {
  button,
  a,
  [role="button"] {
    -webkit-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
  }
}

/* Smooth scrolling on mobile */
@media (max-width: 767px) {
  .mobile-scroll-smooth {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }
}

/* Mobile badge adjustments */
@media (max-width: 767px) {
  .mobile-badge {
    @apply text-xs px-2 py-0.5;
  }
}
